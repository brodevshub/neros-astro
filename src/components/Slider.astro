<script>
    const slider = document.querySelector(".slider");
    const slides = document.querySelectorAll(".slide");
    const prevButton = document.querySelector(".prev-btn");
    const nextButton = document.querySelector(".next-btn");

    let currentIndex = 0;
    let intervalId: number;

    //Updatea la imagen mostrada
    function updateSlider() {
        slider.style.transform = `translateX(-${currentIndex * 100}%)`;
    }

    //Cambia a la siguiente diapositiva.
    function nextSlide() {
        currentIndex = (currentIndex + 1) % slides.length;
        updateSlider();
    }

    // Cambia de diapositiva cada 3 segundos
    function startAutoSlide() {
        intervalId = setInterval(nextSlide, 4000);
    }

    // Detiene el intervalo
    function stopAutoSlide() {
        clearInterval(intervalId);
    }
    //Funcion del boton de prevImagen.
    prevButton.addEventListener("click", function () {
        currentIndex = (currentIndex - 1 + slides.length) % slides.length;
        updateSlider();
        stopAutoSlide(); // Detiene el intervalo cuando el usuario hace clic
    });
    //Funcion del boton de nextImagen.
    nextButton.addEventListener("click", function () {
        currentIndex = (currentIndex + 1) % slides.length;
        updateSlider();
        stopAutoSlide(); // Detiene el intervalo cuando el usuario hace clic
    });

    // Iniciar automáticamente el deslizamiento cuando se carga la página
    startAutoSlide();
</script>

<main>
    <div class="slider">
        <div class="slide">
            <img src="/media/slider/slider-1.webp" class="imgSlide" />
        </div>
        <div class="slide">
            <img src="/media/slider/slider-2.webp" class="imgSlide" />
        </div>
    </div>
    <button class="prev-btn">&#9665;</button>
    <button class="next-btn">&#9655;</button>
</main>

<style>
    main {
        position: relative;
        overflow: hidden;
        max-height: 400px;
    }

    .slider {
        display: flex;
        transition: transform 1s;
    }

    .slide {
        flex: 0 0 100%;
    }

    .imgSlide {
        width: 100%;
    }

    main > button {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: transparent;
        border: none;
        font-size: 26px;
        cursor: pointer;
        color: white;
    }

    .prev-btn {
        left: 10px;
        padding: 5px;
        background: rgba(255, 255, 255, 1);
    }

    .next-btn {
        right: 10px;
        padding: 5px;
        background: rgba(255, 255, 255, 1);
    }
</style>
